/* ========================================================================== 1. VARI√ÅVEIS E RESET ========================================================================== */
 @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
 :root {
     --cor-primaria: #2c3e50;
     --cor-secundaria: #3498db;
     --cor-fundo-light: #ecf0f1;
     --cor-fundo-dark: #1f2b38;
     --cor-texto: #333333;
     --cor-header: #1f2b38;
     --cor-amarelo: #f1c40f;
     --sombra-card: 0 4px 15px rgba(0, 0, 0, 0.05);
}
 * {
     box-sizing: border-box;
}
 body {
     font-family: 'Roboto', sans-serif;
     margin: 0;
     padding: 0;
     background-color: var(--cor-fundo-light);
     color: var(--cor-texto);
     line-height: 1.6;
     display: flex;
     flex-direction: column;
     min-height: 100vh;
}
 a {
     color: var(--cor-secundaria);
     text-decoration: none;
}
 h1, h2, h3 {
     margin-top: 0;
}
/* ========================================================================== 2. HEADER (CABE√áALHO) ========================================================================== */
 header {
     background-color: var(--cor-header);
     color: white;
     text-align: center;
     padding: 20px 0 50px 0;
     position: relative;
     box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
     z-index: 10;
}
 header h1 {
     font-size: 2rem;
     margin-bottom: 10px;
}
 nav {
     margin-top: 15px;
}
 nav ul {
     padding: 0;
     list-style: none;
     margin: 0;
}
 nav ul li {
     display: inline-block;
     margin: 0 15px;
}
 nav a {
     color: white;
     font-weight: bold;
     font-size: 1.1rem;
     opacity: 0.9;
     transition: opacity 0.2s;
}
 nav a:hover {
     opacity: 1;
     text-decoration: underline;
}
/* Login / Perfil */
 .user-actions {
     position: absolute;
     bottom: 15px;
     right: 30px;
     font-size: 0.9rem;
     z-index: 11;
}
 .btn-login-header {
     color: white;
     border: 1px solid rgba(255, 255, 255, 0.5);
     padding: 8px 16px;
     border-radius: 20px;
     transition: all 0.3s ease;
}
 .btn-login-header:hover {
     background-color: white;
     color: var(--cor-primaria);
}
 .logged-in-menu {
     display: flex;
     align-items: center;
     gap: 15px;
     background: rgba(255, 255, 255, 0.1);
     padding: 6px 15px;
     border-radius: 20px;
}
 .user-link {
     color: white !important;
     display: flex;
     align-items: center;
     gap: 8px;
}
 .btn-logout-small {
     color: #e74c3c !important;
     font-size: 0.85rem;
     text-decoration: none;
     border-left: 1px solid rgba(255, 255, 255, 0.3);
     padding-left: 10px;
}
 @media (max-width: 600px) {
     header {
         padding-bottom: 80px;
    }
     .user-actions {
         bottom: 15px;
         right: 50%;
         transform: translateX(50%);
         width: 100%;
         display: flex;
         justify-content: center;
    }
}
/* ========================================================================== 3. LAYOUT DA HOME (DASHBOARD) ========================================================================== */
 .container {
     max-width: 1400px;
     margin: 40px auto;
     padding: 0 20px;
     width: 100%;
     flex: 1;
}
/* O Container Transparente que segura o Grid */
 main {
     background: transparent;
     width: 100%;
}
/* Cart√µes Brancos Padr√£o */
 .white-card {
     background: white;
     border-radius: 8px;
     box-shadow: var(--sombra-card);
     padding: 30px;
     margin-bottom: 30px;
     border: 1px solid #eee;
}
/* Grid Superior */
 .layout-grid {
     display: grid;
     grid-template-columns: 2fr 1fr 1fr;
     gap: 20px;
     align-items: start;
}
/* Coluna Esquerda (Hero + Info) */
 .main-content {
     padding: 40px;
}
 .hero-section {
     text-align: center;
     margin-bottom: 30px;
}
 .hero-section h2 {
     color: var(--cor-primaria);
     margin-bottom: 10px;
}
 .menu-buttons {
     display: flex;
     justify-content: center;
     gap: 20px;
     margin-top: 25px;
     flex-wrap: wrap;
}
 .btn-primary {
     display: inline-block;
     padding: 12px 30px;
     background-color: var(--cor-secundaria);
     color: white;
     border-radius: 5px;
     font-size: 1.1rem;
     font-weight: bold;
     border: none;
     cursor: pointer;
     transition: background 0.3s, transform 0.2s;
}
 .btn-primary:hover {
     background-color: #2980b9;
     transform: translateY(-2px);
}
 .divider {
     border: 0;
     border-top: 1px solid #eee;
     margin: 30px 0;
}
/* Textos Explicativos */
 .main-content h3 {
     color: var(--cor-primaria);
     margin-top: 0;
     margin-bottom: 15px;
}
 .main-content p {
     color: #666;
     text-align: justify;
     margin-bottom: 15px;
}
 .main-content section {
     margin-bottom: 30px;
}
/* Coluna Direita (Sidebar) */
 .sidebar-content {
     padding: 0;
     overflow: hidden;
     position: sticky;
     top: 20px;
     max-height: 600px;
     display: flex;
     flex-direction: column;
}
 .panel-header {
     background-color: var(--cor-primaria);
     color: white;
     padding: 15px 20px;
     display: flex;
     justify-content: space-between;
     align-items: center;
}
 .panel-header h3 {
     margin: 0;
     font-size: 1rem;
}
 .room-cards-container {
     padding: 0;
     overflow-y: auto;
     flex: 1;
     background-color: #fff;
}
 .room-item {
     border-bottom: 1px solid #eee;
     padding: 15px;
     display: flex;
     justify-content: space-between;
     align-items: center;
     transition: background-color 0.2s;
}
 .room-item:hover {
     background-color: #f9f9f9;
}
 .room-item:last-child {
     border-bottom: none;
}
 .room-meta {
     font-size: 0.85rem;
     color: #777;
     display: flex;
     align-items: center;
     gap: 6px;
     margin-top: 5px;
}
 .status-dot {
     width: 8px;
     height: 8px;
     border-radius: 50%;
     display: inline-block;
}
 .status-open {
     background-color: #27ae60;
}
 .status-busy {
     background-color: #e74c3c;
}
 .btn-room-action {
     padding: 5px 12px;
     border-radius: 4px;
     font-size: 0.75rem;
     font-weight: bold;
     margin-left: 5px;
}
 .btn-join {
     background-color: #27ae60;
     color: white;
}
 .btn-watch {
     background-color: #34495e;
     color: white;
}
 .btn-login-mini {
     border: 1px solid #ccc;
     color: #666;
     background: transparent;
}
 .empty-state {
     text-align: center;
     padding: 30px 10px;
     color: #999;
     font-style: italic;
}
 @media (max-width: 1100px) {
     .layout-grid {
         grid-template-columns: 1fr;
    }
     .sidebar-content {
         position: static;
         margin-top: 20px;
    }
}
/* ========================================================================== 4. FOOTER ========================================================================== */
 footer {
     background-color: var(--cor-header);
     color: #ccc;
     text-align: center;
     padding: 30px 0;
     margin-top: auto;
     font-size: 0.9rem;
     border-top: 4px solid var(--cor-secundaria);
}
/* ========================================================================== 5. P√ÅGINA DO JOGO ========================================================================== */
 body.game-page {
     background-color: var(--cor-fundo-light);
     display: flex;
     flex-direction: column;
     min-height: 100vh; 
    height: auto;
    overflow-y: auto;
    transition: background-color 0.3s ease;
}
 .game-header {
     display: flex;
     justify-content: space-between;
     align-items: center;
     padding: 10px 25px;
     background-color: var(--cor-primaria);
     color: white;
     box-shadow: 0 2px 5px rgba(0,0,0,0.2);
     flex-shrink: 0;
}
 .btn-exit {
     border: 1px solid rgba(255, 255, 255, 0.3);
     color: white;
     padding: 6px 12px;
     border-radius: 4px;
     font-size: 0.9rem;
     cursor: pointer;
     background: transparent;
     transition: background 0.2s;
}
 .btn-exit:hover {
     background: rgba(255, 255, 255, 0.1);
}
 #game-wrapper {
     flex: 1;
     display: flex;
     justify-content: center;
     align-items: flex-start;
     padding: 20px;
}
 #game {
    margin: auto; 
    text-align: center;
    color: var(--cor-texto);
    padding-bottom: 50px;
}
 #game-board {
     display: grid;
     grid-template-columns: repeat(3, 60px);
     grid-template-rows: repeat(8, 60px);
     gap: 6px;
     margin: 20px auto;
     width: fit-content;
     background-color: var(--cor-primaria);
     border: 6px solid var(--cor-header);
     border-radius: 10px;
     padding: 12px;
     transition: all 0.3s ease;
     box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
 .cell {
     width: 60px;
     height: 60px;
     background-color: #aba59c;
     border: 1px solid #333;
     box-sizing: border-box;
     display: flex;
     justify-content: center;
     align-items: center;
     position: relative;
     font-size: 1.5em;
}
 .cell.rosette::after {
     content: "üå∏";
     position: absolute;
     top: 50%;
     left: 50%;
     transform: translate(-50%, -50%);
     z-index: 1;
     font-size: 2em;
     opacity: 0.7;
     pointer-events: none;
}
 .piece {
     width: 45px;
     height: 45px;
     border-radius: 50%;
     box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
     z-index: 10;
     transition: transform 0.2s;
     position: relative;
}
 .piece.movable {
     cursor: pointer;
     border: 3px solid #27ae60 !important;
     transform: scale(1.1);
}
 .piece.invalid-move {
     border-color: #e74c3c !important;
     cursor: help;
     opacity: 0.8;
}
 .player1 {
     background-color: #ffffff;
     border: 2px solid #000;
}
 .player2 {
     background-color: #000000;
     border: 2px solid #fff;
}
/* √Åreas dos Jogadores e Controles */
 #game-container {
     display: flex;
     justify-content: center;
     align-items: flex-start;
     gap: 30px;
     margin: 20px 0;
}
/* Painel Central (Status) */
 #game-status {
     background-color: white;
     color: #333;
     border: 1px solid #ccc;
     border-radius: 8px;
     padding: 10px 20px;
     margin: 0 auto 20px auto;
     width: fit-content;
     text-align: center;
     box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
/* Coluna Lateral do Jogador */
 .player-area {
     display: flex;
     flex-direction: column;
     gap: 15px;
     min-width: 120px;
}
/* Cart√£o de Info do Jogador (Pe√ßas) */
 .player-info-card {
     background-color: white;
     border-radius: 10px;
     padding: 15px;
     box-shadow: 0 2px 8px rgba(0,0,0,0.1);
     border: 1px solid #ccc;
     display: flex;
     flex-direction: column;
     align-items: center;
     transition: all 0.3s ease;
}
 .player-info-card h3 {
     color: var(--cor-primaria);
     border-bottom: 1px solid #eee;
     margin: 0 0 15px 0;
     padding-bottom: 5px;
     width: 100%;
     text-align: center;
}
 .pieces-container {
     display: flex;
     flex-direction: column;
     gap: 8px;
     min-height: 300px;
}
/* Slot de Controles (Vazio at√© o turno chegar) */
 .controls-slot {
     min-height: 80px;
     width: 100%;
     display: flex;
     justify-content: center;
}
/* O Pacote M√≥vel de Controles */
 #active-turn-controls {
     background-color: white;
     border: 2px solid var(--cor-secundaria);
     border-radius: 10px;
     padding: 10px;
     box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
     display: flex;
     flex-direction: row;
     align-items: center;
     justify-content: space-between;
     gap: 10px;
     width: 100%;
     animation: slideUp 0.3s ease;
}
 @keyframes slideUp {
     from {
         opacity: 0;
         transform: translateY(10px);
    }
     to {
         opacity: 1;
         transform: translateY(0);
    }
}
/* Bot√£o de Jogar Lateral */
 #roll-dice-btn {
     background-color: var(--cor-primaria);
     color: white;
     border: none;
     border-radius: 8px;
     padding: 0 15px;
     height: 50px;
     font-weight: bold;
     font-size: 0.9rem;
     cursor: pointer;
     box-shadow: 0 2px 5px rgba(0,0,0,0.2);
     flex: 1;
}
 #roll-dice-btn:hover {
     background-color: #34495e;
     transform: scale(1.05);
}
 #roll-dice-btn:disabled {
     background-color: #555;
     cursor: not-allowed;
     opacity: 0.7;
}
/* ========================================================================== 6. DADOS VISUAIS ========================================================================== */
 .dice-wrapper {
     display: flex;
     flex-direction: column;
     align-items: center;
     gap: 5px;
}
 .dice-grid {
     display: grid;
     grid-template-columns: 1fr 1fr;
     gap: 6px;
}
 .dice-total {
     font-size: 0.8rem;
     color: #777;
     font-weight: bold;
}
 .tetra-die {
     width: 0;
     height: 0;
     border-left: 8px solid transparent;
     border-right: 8px solid transparent;
     border-bottom: 16px solid #95a5a6;
     position: relative;
     transition: all 0.3s ease;
     transform-origin: bottom center;
}
 .tetra-die.marked {
     border-bottom-color: var(--cor-primaria);
     transform: scale(1.1);
}
 .tetra-die.marked::after {
     content: '';
     position: absolute;
     top: 3px;
     left: -3px;
     width: 6px;
     height: 6px;
     background-color: white;
     border-radius: 50%;
     box-shadow: 0 0 5px rgba(255,255,255,0.8);
}
/* ========================================================================== 7. DARK MODE (JOGO) ========================================================================== */
 body.game-page.dark-mode {
     background-color: var(--cor-fundo-dark);
     color: white;
}
 body.game-page.dark-mode .game-header {
     background-color: rgba(0, 0, 0, 0.3);
}
 body.game-page.dark-mode #game-status {
     background-color: rgba(0, 0, 0, 0.4);
     color: #ecf0f1;
     border-color: rgba(255, 255, 255, 0.1);
}
 body.game-page.dark-mode .player-info-card {
     background-color: rgba(0, 0, 0, 0.4);
     border-color: rgba(255, 255, 255, 0.1);
     color: #ecf0f1;
}
 body.game-page.dark-mode .player-info-card h3 {
     color: var(--cor-secundaria);
     border-color: rgba(255, 255, 255, 0.1);
}
 body.game-page.dark-mode #active-turn-controls {
     background-color: #2c3e50;
     border-color: var(--cor-secundaria);
}
 body.game-page.dark-mode .tetra-die {
     border-bottom-color: #555;
}
 body.game-page.dark-mode .tetra-die.marked {
     border-bottom-color: var(--cor-secundaria);
}
 body.game-page.dark-mode #roll-dice-btn {
     background-color: #2980b9;
}
 body.game-page.dark-mode #roll-dice-btn:hover {
     background-color: var(--cor-secundaria);
}
 body.game-page.dark-mode .piece.movable {
     border-color: #00ff00 !important;
     box-shadow: 0 0 10px #00ff00;
}
/* ========================================================================== 8. CHAT & TOOLTIPS ========================================================================== */
 #chat-container {
     position: fixed;
     bottom: 20px;
     right: 20px;
     width: 300px;
     height: 400px;
     background-color: white;
     border-radius: 10px 10px 0 0;
     box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
     display: flex;
     flex-direction: column;
     z-index: 100;
     font-size: 0.9rem;
     transition: height 0.3s ease;
     border: 1px solid #ddd;
}
 #chat-container.minimized {
     height: 45px;
     overflow: hidden;
}
 #chat-header {
     background-color: var(--cor-primaria);
     color: white;
     padding: 12px 15px;
     border-radius: 8px 8px 0 0;
     display: flex;
     justify-content: space-between;
     align-items: center;
     cursor: pointer;
     font-weight: bold;
}
 #chat-messages {
     flex: 1;
     padding: 10px;
     overflow-y: auto;
     background-color: #f9f9f9;
     display: flex;
     flex-direction: column;
     gap: 8px;
}
 .message {
     padding: 8px 12px;
     border-radius: 6px;
     background-color: #e0e0e0;
     max-width: 80%;
     word-wrap: break-word;
     font-size: 0.85rem;
}
 .message.my-message {
     align-self: flex-end;
     background-color: #d4e6f1;
     color: #2c3e50;
}
 .message.system {
     align-self: center;
     background-color: transparent;
     color: #7f8c8d;
     font-style: italic;
     font-size: 0.8rem;
     margin: 5px 0;
}
 #chat-form {
     display: flex;
     padding: 10px;
     border-top: 1px solid #eee;
     background-color: white;
}
 #chat-input {
     flex: 1;
     padding: 8px;
     border: 1px solid #ddd;
     border-radius: 4px;
     outline: none;
}
 #chat-form button {
     background-color: var(--cor-secundaria);
     color: white;
     border: none;
     padding: 0 15px;
     margin-left: 8px;
     border-radius: 4px;
     cursor: pointer;
     font-weight: bold;
}
/* Dark Mode Chat */
 body.game-page.dark-mode #chat-container {
     background-color: #2c3e50;
     border-color: #444;
}
 body.game-page.dark-mode #chat-messages {
     background-color: #34495e;
}
 body.game-page.dark-mode .message {
     background-color: #2c3e50;
     color: white;
}
 body.game-page.dark-mode .message.my-message {
     background-color: var(--cor-secundaria);
}
 body.game-page.dark-mode #chat-form {
     background-color: #2c3e50;
     border-top-color: #444;
}
 body.game-page.dark-mode #chat-input {
     background-color: #ecf0f1;
}
 .tooltip {
     position: absolute;
     background-color: rgba(0, 0, 0, 0.9);
     color: #fff;
     padding: 8px 12px;
     border-radius: 5px;
     font-size: 0.85rem;
     pointer-events: none;
     z-index: 1000;
     white-space: nowrap;
     border: 1px solid #e74c3c;
     box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
}

/* ==========================================================================
   NOVO: ESTILOS DO RANKING
   ========================================================================== */
.ranking-list {
    padding: 0;
}

.ranking-item {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    border-bottom: 1px solid #eee;
}
.ranking-item:last-child { border-bottom: none; }

.rank-pos {
    width: 25px;
    font-weight: bold;
    color: #999;
}
.rank-1 { color: #f39c12; font-size: 1.2rem; } /* Ouro */
.rank-2 { color: #7f8c8d; font-weight: bold; } /* Prata */
.rank-3 { color: #d35400; font-weight: bold; } /* Bronze */

.rank-name {
    flex: 1;
    font-weight: 500;
    color: #333;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.rank-score {
    font-weight: bold;
    color: var(--cor-secundaria);
    background: rgba(52, 152, 219, 0.1);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.85rem;
}

/* ==========================================================================
   13. SELE√á√ÉO DE AVATAR (PERFIL)
   ========================================================================== */
.avatar-grid {
    display: flex;
    gap: 10px; /* Espa√ßo entre bolinhas */
    flex-wrap: wrap;
    justify-content: center; /* Centraliza na linha */
    margin: 20px 0;
    background: #f9f9f9;
    padding: 15px;
    border-radius: 8px;
    border: 1px solid #eee;
    
    /* ADI√á√ÉO: Scrollbar */
    max-height: 250px; /* Altura fixa (aprox 3 linhas vis√≠veis) */
    overflow-y: auto;  /* Barra de rolagem vertical */
    
    /* Estiliza√ß√£o da barra de rolagem (opcional, mas fica bonito) */
    scrollbar-width: thin;
    scrollbar-color: var(--cor-secundaria) #eee;
}

/* Webkit Scrollbar (Chrome/Edge/Safari) */
.avatar-grid::-webkit-scrollbar { width: 8px; }
.avatar-grid::-webkit-scrollbar-track { background: #eee; }
.avatar-grid::-webkit-scrollbar-thumb { background-color: var(--cor-secundaria); border-radius: 4px; }

.avatar-option {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    cursor: pointer;
    border: 3px solid transparent;
    transition: all 0.2s ease;
    background-color: white;
    flex-shrink: 0; /* Impede que elas esmaguem */
}

.avatar-option:hover {
    transform: scale(1.1);
    border-color: #ccc;
}

/* Quando selecionado via JS */
.avatar-option.selected {
    border-color: var(--cor-secundaria);
    box-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
    transform: scale(1.1);
}

.avatar-preview-large {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    border: 4px solid var(--cor-primaria);
    background-color: white;
    object-fit: cover;
}

.rank-avatar-img {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    margin-right: 10px;
    background-color: #eee;
    border: 1px solid #ddd;
    object-fit: cover;
}